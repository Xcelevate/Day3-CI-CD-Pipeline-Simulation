name: CI-CD Pipeline Simulation

on:
  push:
    branches: [ main ]
  workflow_dispatch:

jobs:

  build:
    name: Build
    runs-on: ubuntu-latest
    steps:
      - name: Checkout Code
        uses: actions/checkout@v4

      - name: Build Application
        run: |
          echo "ðŸ”¨ Building the application..."
          sleep 2

  test:
    name: Unit Testing
    runs-on: ubuntu-latest
    needs: build
    steps:
      - name: Run Unit Tests
        run: |
          echo "Running unit tests..."
          sleep 2

  scan:
    name: Security Scan
    runs-on: ubuntu-latest
    needs: test
    steps:
      - name: Scan Code
        run: |
          echo "Running security scan..."
          echo "No vulnerabilities found "
          sleep 2

  release:
    name: Release Artifact
    runs-on: ubuntu-latest
    needs: scan
    steps:
      - name: Create Release
        run: |
          echo "ðŸ“¦ Creating release artifact..."
          sleep 2

  dev-deploy:
    name: Deploy to DEV
    runs-on: ubuntu-latest
    needs: release
    steps:
      - name: Deploy to DEV
        run: |
          echo "Deploying to DEV environment..."
          sleep 2

  dev-test:
    name: DEV Testing
    runs-on: ubuntu-latest
    needs: dev-deploy
    steps:
      - name: Test DEV
        run: |
          echo "DEV testing passed"
          sleep 2

  sit-deploy:
    name: Deploy to SIT
    runs-on: ubuntu-latest
    needs: dev-test
    steps:
      - name: Deploy to SIT
        run: |
          echo "Deploying to SIT environment..."
          sleep 2

  sit-test:
    name: SIT Testing
    runs-on: ubuntu-latest
    needs: sit-deploy
    steps:
      - name: Test SIT
        run: |
          echo "SIT testing passed"
          sleep 2

  uat-deploy:
    name: Deploy to UAT
    runs-on: ubuntu-latest
    needs: sit-test
    steps:
      - name: Deploy to UAT
        run: |
          echo "Deploying to UAT environment..."
          sleep 2

  uat-test:
    name: UAT Testing
    runs-on: ubuntu-latest
    needs: uat-deploy
    steps:
      - name: Test UAT
        run: |
          echo "UAT testing approved"
          sleep 2

  prod-deploy:
    name: Deploy to PROD
    runs-on: ubuntu-latest
    needs: uat-test
    steps:
      - name: Deploy to PROD
        run: |
          echo "Deploying to PRODUCTION..."
          echo "Deployment successful!"
          sleep 2
